"use strict";function RandomNumber(e,n,t){return n=n||0,(t=t||!1)?Math.floor(Math.random()*(e-n)+n):Math.random()*(e-n)+n}function RandomPendulum(){return{amplitude:200,frequency:RandomNumber(4,2,!0)+RandomNumber(.02,-.02),phase:RandomNumber(0,Math.PI),damping:RandomNumber(0,.01)}}function Harmonograph(e){if(e.element.getContext){var n=e.speed?e.speed:10,r=e.width?e.width:.1,o=e.color?e.color:"#000",a=e.drawingTime?e.drawingTime:150,m=e.pendulum?e.pendulum:[RandomPendulum(),RandomPendulum(),RandomPendulum(),RandomPendulum()],d=e.element,i=0,u=(new Date).getTime(),l=.001*n,h=d.getContext("2d");h.clearRect(0,0,d.width,d.height),h.save(),h.restore(),h.beginPath(),h.stroke();var s=setInterval(function(){h.imageSmoothingEnabled=!0,h.lineWidth=r,h.strokeStyle=o;var e=m.map(function(e){return e.amplitude*Math.sin(e.frequency*i+e.phase)*Math.exp(-e.damping*i)}),n=e[0]+e[1],t=e[2]+e[3];h.lineTo(n+d.width/2,t+d.height/2),h.stroke(),i+=l,(new Date).getTime()-u>=1e3*a&&clearInterval(s)},.001)}else d.innerHtml("Harmonograph not supported in this browser."),console.error("Harmonograph not supported in this browser.")}